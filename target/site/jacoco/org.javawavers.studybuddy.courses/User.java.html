<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="el"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>User.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">studybuddy</a> &gt; <a href="index.source.html" class="el_package">org.javawavers.studybuddy.courses</a> &gt; <span class="el_source">User.java</span></div><h1>User.java</h1><pre class="source lang-java linenums">package org.javawavers.studybuddy.courses;

import java.time.LocalDate;
import java.util.ArrayList;
import java.util.List;
import org.javawavers.studybuddy.database.DeleteData;
import org.javawavers.studybuddy.calculations.Day;
import org.javawavers.studybuddy.calculations.Task;
import org.javawavers.studybuddy.calculations.Week;

/**
 * Represents a user in the StudyBuddy app. The user can manage their subjects, assignments,
 * exams, availability, and schedules.
 */
public class User {
  private String username; // The username of the user
  private String email; //The email address of the user
  private String password; //The password of the user
  private int userId; //The unique identifier for the user.
  int[] avPerDay; // availability for each day of the week
  private Week currentWeek; //The current week being tracked by the user.
<span class="pc" id="L22">  List&lt;LocalDate&gt; nonAvailDays = new ArrayList&lt;&gt;();</span>
<span class="pc" id="L23">  List&lt;Subject&gt; subjects = new ArrayList&lt;&gt;();</span>
<span class="pc" id="L24">  List&lt;Assignment&gt; assignments = new ArrayList&lt;&gt;();</span>
<span class="pc" id="L25">  List&lt;Exam&gt; exams = new ArrayList&lt;&gt;();</span>

<span class="pc" id="L27">  List&lt;Week&gt; totalWeeks = new ArrayList&lt;&gt;(); // ////////////////////////////////</span>

  List&lt;Task&gt; tasks;
  List&lt;Day&gt; days;
<span class="pc" id="L31">  List&lt;ScheduledTask&gt; scheduledTasks = new ArrayList&lt;&gt;();</span>

  /**
   * Default constructor.
   */
<span class="nc" id="L36">  public User() {}</span>

  /**
   * Constructor for a user logging in without a generated schedule.
   *
   * @param username     the username of the user
   * @param email        the email address of the user
   * @param password     the password of the user
   * @param avPerDay     availability for each day of the week
   * @param nonAvailDays a list of dates when the user is unavailable
   * @param subjects     a list of subjects associated with the user
   * @param assignments  a list of assignments associated with the user
   * @param exams        a list of exams associated with the user
   */
  public User(
      String username,
      String email,
      String password,
      int[] avPerDay,
      List&lt;LocalDate&gt; nonAvailDays,
      List&lt;Subject&gt; subjects,
      List&lt;Assignment&gt; assignments,
<span class="nc" id="L58">      List&lt;Exam&gt; exams) {</span>
<span class="nc" id="L59">    this.username = username;</span>
<span class="nc" id="L60">    this.email = email;</span>
<span class="nc" id="L61">    this.password = password;</span>
<span class="nc" id="L62">    this.avPerDay = avPerDay;</span>
<span class="nc" id="L63">    this.nonAvailDays = nonAvailDays;</span>
<span class="nc" id="L64">    this.subjects = subjects;</span>
<span class="nc" id="L65">    this.assignments = assignments;</span>
<span class="nc" id="L66">    this.exams = exams;</span>
<span class="nc" id="L67">  }</span>

  /**
   * Constructor for user sign-in.
   *
   * @param username the username of the user
   * @param email    the email address of the user
   * @param password the password of the user
   */
<span class="fc" id="L76">  public User(String username, String email, String password) {</span>
<span class="fc" id="L77">    this.username = username;</span>
<span class="fc" id="L78">    this.email = email;</span>
<span class="fc" id="L79">    this.password = password;</span>
<span class="fc" id="L80">  }</span>

  /**
   * Constructor for a user with a unique ID.
   *
   * @param userId   the unique ID of the user
   * @param username the username of the user
   * @param email    the email address of the user
   * @param password the password of the user
   */
<span class="nc" id="L90">  public User(int userId, String username, String email, String password) {</span>
<span class="nc" id="L91">    this.username = username;</span>
<span class="nc" id="L92">    this.userId = userId;</span>
<span class="nc" id="L93">    this.email = email;</span>
<span class="nc" id="L94">    this.password = password;</span>
<span class="nc" id="L95">  }</span>

  /**
   * Constructor for a user logging in with a generated program.
   *
   * @param userId       the unique ID of the user
   * @param username     the username of the user
   * @param email        the email address of the user
   * @param password     the password of the user
   * @param avPerDay     availability for each day of the week
   * @param nonAvailDays a list of dates when the user is unavailable
   * @param subjects     a list of subjects associated with the user
   * @param assignments  a list of assignments associated with the user
   * @param exams        a list of exams associated with the user
   * @param tasks        a list of tasks assigned to the user
   * @param days         a list of days with associated tasks for the user
   */
  public User(
      int userId,
      String username,
      String email,
      String password,
      int[] avPerDay,
      List&lt;LocalDate&gt; nonAvailDays,
      List&lt;Subject&gt; subjects,
      List&lt;Assignment&gt; assignments,
      List&lt;Exam&gt; exams,
      List&lt;Task&gt; tasks,
<span class="nc" id="L123">      List&lt;Day&gt; days) {</span>
<span class="nc" id="L124">    this.email = email;</span>
<span class="nc" id="L125">    this.password = password;</span>
<span class="nc" id="L126">    this.avPerDay = avPerDay;</span>
<span class="nc" id="L127">    this.nonAvailDays = nonAvailDays;</span>
<span class="nc" id="L128">    this.subjects = subjects;</span>
<span class="nc" id="L129">    this.assignments = assignments;</span>
<span class="nc" id="L130">    this.exams = exams;</span>
<span class="nc" id="L131">    this.tasks = tasks;</span>
<span class="nc" id="L132">    this.days = days;</span>
<span class="nc" id="L133">    this.userId = userId;</span>
<span class="nc" id="L134">  }</span>

  // getters and setters
  public String getUsername() {
<span class="nc" id="L138">    return username;</span>
  }

  public void setUsername(String username) {
<span class="nc" id="L142">    this.username = username;</span>
<span class="nc" id="L143">  }</span>

  public String getEmail() {
<span class="nc" id="L146">    return email;</span>
  }

  public void setEmail(String email) {
<span class="nc" id="L150">    this.email = email;</span>
<span class="nc" id="L151">  }</span>

  public String getPassword() {
<span class="nc" id="L154">    return password;</span>
  }

  public void setPassword(String password) {
<span class="nc" id="L158">    this.password = password;</span>
<span class="nc" id="L159">  }</span>

  public int[] getAvPerDay() {
<span class="fc" id="L162">    return avPerDay;</span>
  }

  public void setAvPerDay(int[] avPerDay) {
<span class="fc" id="L166">    this.avPerDay = avPerDay;</span>
<span class="fc" id="L167">  }</span>

  public List&lt;LocalDate&gt; getNonAvailDays() {
<span class="fc" id="L170">    return nonAvailDays;</span>
  }

  public void setNonAvailDays(List&lt;LocalDate&gt; nonAvailDays) {
<span class="nc" id="L174">    this.nonAvailDays = nonAvailDays;</span>
<span class="nc" id="L175">  }</span>

  public void setUserId(int userId) {
<span class="nc" id="L178">    this.userId = userId;</span>
<span class="nc" id="L179">  }</span>

  public int getUserId() {
<span class="nc" id="L182">    return userId;</span>
  }

  public List&lt;Subject&gt; getSubjects() {
<span class="fc" id="L186">    return subjects;</span>
  }

  public void setSubjects(List&lt;Subject&gt; subjects) {
<span class="nc" id="L190">    this.subjects = subjects;</span>
<span class="nc" id="L191">  }</span>

  public List&lt;Assignment&gt; getAssignments() {
<span class="fc" id="L194">    return assignments;</span>
  }

  public void setAssignments(List&lt;Assignment&gt; assignments) {
<span class="nc" id="L198">    this.assignments = assignments;</span>
<span class="nc" id="L199">  }</span>

  public List&lt;Exam&gt; getExams() {
<span class="fc" id="L202">    return exams;</span>
  }

  public void setExams(List&lt;Exam&gt; exams) {
<span class="nc" id="L206">    this.exams = exams;</span>
<span class="nc" id="L207">  }</span>

  public List&lt;Week&gt; getTotalWeeks() {
<span class="nc" id="L210">    return totalWeeks;</span>
  }

  public void setTotalWeeks(List&lt;Week&gt; totalWeeks) {
<span class="fc" id="L214">    this.totalWeeks = totalWeeks;</span>
<span class="fc" id="L215">  }</span>

  public Week getCurrentWeek() {
<span class="nc" id="L218">    return currentWeek;</span>
  }

  public void setCurrentWeek(Week currentWeek) {
<span class="nc" id="L222">    this.currentWeek = currentWeek;</span>
<span class="nc" id="L223">  }</span>

  public void setDays(List&lt;Day&gt; days) {
<span class="nc" id="L226">    this.days = days;</span>
<span class="nc" id="L227">  }</span>

  public void setTasks(List&lt;ScheduledTask&gt; tasks) {
<span class="nc" id="L230">    this.scheduledTasks = tasks;</span>
<span class="nc" id="L231">  }</span>

  /**
   * Adds a subject to the user's list of subjects.
   *
   * @param subj the subject to add
   */
  public void addSubject(Subject subj) {
<span class="fc" id="L239">    subjects.add(subj);</span>
<span class="fc" id="L240">  }</span>

  /**
   * Removes a subject from the user's list of subjects.
   *
   * @param subj the subject to remove
   */
  public void removeSubject(Subject subj) {
<span class="fc" id="L248">    subjects.remove(subj);</span>
<span class="fc" id="L249">    DeleteData.deleteSubject(subj);</span>
<span class="fc" id="L250">  }</span>

  /**
   * Updates a subject in the user's list of subjects at the specified index.
   *
   * @param index the index of the subject to update
   * @param subj  the updated subject
   */
  public void updateSubject(int index, Subject subj) {
<span class="fc" id="L259">    subjects.set(index, subj);</span>
<span class="fc" id="L260">  }</span>

  /**
  * adds an assignment.
   */
  public void addAssignment(Assignment assign) {
<span class="fc" id="L266">    assignments.add(assign);</span>
<span class="fc" id="L267">  }</span>

  /**
  * removes an assignment.
   */
  public void removeAssignment(Assignment assign) {
<span class="fc" id="L273">    assignments.remove(assign);</span>
<span class="fc" id="L274">    DeleteData.deleteAssignment(assign);</span>
<span class="fc" id="L275">  }</span>

  /**
   *Updates an assignment.
   */
  public void updateAssignment(int index, Assignment assign) {
<span class="fc" id="L281">    assignments.set(index, assign);</span>
<span class="fc" id="L282">  }</span>

  /**
  * Adds an exam in the exam list.
   */
  public void addExam(Exam exam) {
<span class="fc" id="L288">    exams.add(exam);</span>
<span class="fc" id="L289">  }</span>

  /**
  *Removes an Exam.
   */
  public void removeExam(Exam exam) {
<span class="fc" id="L295">    exams.remove(exam);</span>
<span class="fc" id="L296">    DeleteData.deleteExam(exam);</span>
<span class="fc" id="L297">  }</span>

  /**
   *Updates an exam.
   */
  public void updateExam(int index, Exam exam) {
<span class="fc" id="L303">    exams.set(index, exam);</span>
<span class="fc" id="L304">  }</span>

  /**
  *Add days that the user is not available to study at all.
   */
  public void addNonAvailDays(LocalDate date) {
<span class="fc" id="L310">    nonAvailDays.add(date);</span>
<span class="fc" id="L311">  }</span>

  /**
   *Remove days that the user is not available to study at all.
   */
  public void removeNonAvailDays(LocalDate date) {
<span class="fc" id="L317">    nonAvailDays.remove(date);</span>
<span class="fc" id="L318">    DeleteData.deleteNonAvDay(date);</span>
<span class="fc" id="L319">  }</span>

  /**
   *Update days that the user is not available to study at all.
   */
  public void updateNonAvailDays(int index, LocalDate date) {
<span class="fc" id="L325">    nonAvailDays.set(index, date);</span>
<span class="fc" id="L326">  }</span>

  /**
  *Update the users availability (in hours) for a day.
   */
  public void updateAvPerDay(int index, int av) {
<span class="fc" id="L332">    avPerDay[index] = av;</span>
<span class="fc" id="L333">  }</span>

  /**
   * Calculates and sets the current week based on today's date.
   */
  public void calculateCurrentWeek() {
<span class="nc" id="L339">    LocalDate today = LocalDate.now();</span>
<span class="nc bnc" id="L340" title="All 2 branches missed.">    for (Week w : totalWeeks) {</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">      for (Day d : w.getDaysOfWeek()) {</span>
<span class="nc bnc" id="L342" title="All 4 branches missed.">        if (!d.getTodayTasks().isEmpty() &amp;&amp; d.getTodayScheduledTask(0).getTaskDate().equals(today)) {</span>
<span class="nc" id="L343">          this.currentWeek = w;</span>
<span class="nc" id="L344">          return;</span>
        }
<span class="nc" id="L346">      }</span>
<span class="nc" id="L347">    }</span>
<span class="nc" id="L348">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>