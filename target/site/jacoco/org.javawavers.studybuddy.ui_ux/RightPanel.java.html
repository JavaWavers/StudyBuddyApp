<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="el"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RightPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">studybuddy</a> &gt; <a href="index.source.html" class="el_package">org.javawavers.studybuddy.ui_ux</a> &gt; <span class="el_source">RightPanel.java</span></div><h1>RightPanel.java</h1><pre class="source lang-java linenums">package org.javawavers.studybuddy.ui_ux;

import java.util.HashMap;
import java.util.List;
import java.util.Map;
import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.control.*;
import javafx.scene.layout.StackPane;
import javafx.scene.layout.VBox;
import javafx.stage.Modality;
import javafx.stage.Screen;
import javafx.stage.Stage;

// import static Calendar.completed;
// import static Calendar.completed;
// import static Calendar.notStartedYet;
// import static Calendar.notStartedYet;
// import static org.javawavers.studybuddy.ui_ux.Calendar.completed;
// import static org.javawavers.studybuddy.ui_ux.Calendar.notStartedYet;

public class RightPanel {

  private StackPane rightPanel;
  private VBox rightPane;
<span class="nc" id="L26">  private VBox upcomingTasksBox = new VBox(10);</span>
<span class="nc" id="L27">  private VBox completedTasksBox = new VBox(10);</span>

<span class="nc" id="L29">  public RightPanel() {</span>
<span class="nc" id="L30">    this.rightPane = rightPaneStyle();</span>
<span class="nc" id="L31">  }</span>

  public ScrollPane rightPanel() {
<span class="nc" id="L34">    CenterPanelManager centerPanelManager = new CenterPanelManager();</span>

<span class="nc bnc" id="L36" title="All 2 branches missed.">    if (rightPane == null) {</span>
<span class="nc" id="L37">      rightPane = rightPaneStyle();</span>
    }
<span class="nc" id="L39">    rightPanel = new StackPane();</span>
<span class="nc" id="L40">    rightPanel.setPrefWidth(280);</span>
<span class="nc" id="L41">    rightPanel.setMinWidth(280); // or 88.33</span>
<span class="nc" id="L42">    rightPanel.setMaxWidth(280);</span>
<span class="nc" id="L43">    rightPanel.setMaxWidth(Double.MAX_VALUE);</span>
<span class="nc" id="L44">    rightPanel.setMaxHeight(Double.MAX_VALUE);</span>

    // Right Pane's ScrollPane
<span class="nc" id="L47">    ScrollPane scrollPane = new ScrollPane(rightPane);</span>
<span class="nc" id="L48">    scrollPane.setFitToWidth(true);</span>
<span class="nc" id="L49">    scrollPane.setPrefWidth(280);</span>
<span class="nc" id="L50">    scrollPane.setMaxWidth(280);</span>
<span class="nc" id="L51">    scrollPane.setStyle(&quot;-fx-padding: 10; -fx-background-color: #f4f4f4;&quot;);</span>

<span class="nc" id="L53">    return scrollPane;</span>
  }

  private VBox rightPaneStyle() {
<span class="nc" id="L57">    rightPane = new VBox(10);</span>
<span class="nc" id="L58">    rightPane.setStyle(&quot;-fx-padding: 10; -fx-background-color: #f4f4f4;&quot;);</span>
<span class="nc" id="L59">    return rightPane;</span>
  }

  public void updateRightPaneContent(String activePanel) {
<span class="nc bnc" id="L63" title="All 2 branches missed.">    if (rightPane == null) {</span>
<span class="nc" id="L64">      rightPane = rightPaneStyle();</span>
    }
<span class="nc" id="L66">    rightPane.getChildren().clear();</span>

<span class="nc bnc" id="L68" title="All 5 branches missed.">    switch (activePanel) {</span>
      case &quot;Exam&quot;:
<span class="nc" id="L70">        rightPane.getChildren().add(coursesPane());</span>
<span class="nc" id="L71">        break;</span>
      case &quot;Assignments&quot;:
<span class="nc" id="L73">        rightPane.getChildren().add(coursesPane());</span>
<span class="nc" id="L74">        break;</span>
      case &quot;Calendar&quot;:
<span class="nc" id="L76">        rightPane.getChildren().add(tasksPane());</span>
<span class="nc" id="L77">        break;</span>
      case &quot;Dashboard&quot;:
<span class="nc" id="L79">        rightPane.getChildren().add(tasksPane());</span>
        break;
    }
<span class="nc" id="L82">  }</span>

  private VBox tasksPane() {
<span class="nc" id="L85">    VBox tasksPane = new VBox(10);</span>

<span class="nc" id="L87">    tasksPane</span>
<span class="nc" id="L88">        .getChildren()</span>
<span class="nc" id="L89">        .addAll(</span>
<span class="nc" id="L90">            TasksVBox(</span>
                &quot;Σημερινά Tasks&quot;,
                new String[] {&quot;Task 1&quot;, &quot;Task 2&quot;, &quot;Task 3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9,&quot;, &quot;10&quot;},
                Styles.TaskType.TODAY),
<span class="nc" id="L94">            TasksVBox(</span>
                &quot;Εβδομαδιαία Tasks&quot;,
                new String[] {&quot;Task A&quot;, &quot;Task B&quot;, &quot;Task C&quot;, &quot;Task D&quot;},
                Styles.TaskType.WEEK),
<span class="nc" id="L98">            TasksVBox(</span>
                &quot;Εκκρεμότητες&quot;,
                new String[] {&quot;Overdue Task 1&quot;, &quot;Overdue Task 2&quot;},
                Styles.TaskType.OVERDUE),
<span class="nc" id="L102">            TasksVBox(</span>
                &quot;Ολοκληρωμένα Tasks&quot;,
                new String[] {&quot;Completed Task X&quot;, &quot;Completed Task Y&quot;},
                Styles.TaskType.COMPLETED));
<span class="nc" id="L106">    return tasksPane;</span>
  }

  private VBox coursesPane() {
<span class="nc" id="L110">    VBox coursePane = new VBox(10);</span>

<span class="nc" id="L112">    coursePane</span>
<span class="nc" id="L113">        .getChildren()</span>
<span class="nc" id="L114">        .addAll(</span>
<span class="nc" id="L115">            TasksVBox(</span>
                &quot;Μαθήματα&quot;,
                new String[] {&quot;Task 1&quot;, &quot;Task 2&quot;, &quot;Task 3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9,&quot;, &quot;10&quot;},
                Styles.TaskType
                    .TODAY), // εδώ που είναι το new String βάζουμε μια μέθοδο που επιστρέφει τα
            // μαθήματα)
<span class="nc" id="L121">            TasksVBox(</span>
                &quot;Εργασίες&quot;,
                new String[] {&quot;Task A&quot;, &quot;Task B&quot;, &quot;Task C&quot;, &quot;Task D&quot;},
                Styles.TaskType.WEEK),
<span class="nc" id="L125">            TasksVBox(</span>
                &quot;Διαθεσιμότητα Ημερών&quot;,
                new String[] {&quot;Overdue Task 1&quot;, &quot;Overdue Task 2&quot;},
                Styles.TaskType.OVERDUE),
<span class="nc" id="L129">            TasksVBox(</span>
                &quot;Μη διαθεσιμότητα&quot;,
                new String[] {&quot;Completed Task X&quot;, &quot;Completed Task Y&quot;},
                Styles.TaskType.COMPLETED));
<span class="nc" id="L133">    return coursePane;</span>
  }

  // Method that creates the taskPane with a label and a listView
  private VBox TasksVBox(String title, String[] tasks, Styles.TaskType taskType) {
<span class="nc" id="L138">    Label titleLabel = new Label(title);</span>
<span class="nc" id="L139">    titleLabel.setStyle(Styles.LABEL_STYLE(taskType.getColor()));</span>

<span class="nc" id="L141">    ListView&lt;String&gt; listView = new ListView&lt;&gt;();</span>
<span class="nc" id="L142">    listView.getItems().addAll(tasks);</span>

<span class="nc" id="L144">    VBox taskPane = new VBox(5, titleLabel, listView);</span>
<span class="nc" id="L145">    taskPane.setStyle(&quot;-fx-padding: 10; -fx-background-color: rgba(255, 255, 255, 0.2);&quot;);</span>

<span class="nc" id="L147">    taskPane.setFillWidth(true);</span>
<span class="nc" id="L148">    taskPane.setMaxHeight(Screen.getPrimary().getVisualBounds().getHeight() / 4);</span>
<span class="nc" id="L149">    return taskPane;</span>
  }

  // Pelagia
  public void CoursesList() {
<span class="nc" id="L154">    VBox examList = new VBox(5);</span>
<span class="nc" id="L155">    VBox assignmentLst = new VBox(5);</span>

<span class="nc" id="L157">    examList.setStyle(&quot;-fx-background-color: #15B569;&quot;);</span>
<span class="nc" id="L158">    assignmentLst.setStyle(&quot;-fx-background-color: #FFC23D;&quot;);</span>

<span class="nc" id="L160">    rightPanel.getChildren().addAll(examList, assignmentLst, upcomingTasksBox, completedTasksBox);</span>
<span class="nc" id="L161">  }</span>

  public StackPane getRightPanel() {
<span class="nc" id="L164">    return rightPanel;</span>
  }

  private void showTasksPopup(String title, List&lt;String&gt; taskList) {
<span class="nc" id="L168">    Stage popupStage = new Stage();</span>
<span class="nc" id="L169">    popupStage.initModality(Modality.APPLICATION_MODAL);</span>
<span class="nc" id="L170">    popupStage.setTitle(title);</span>

<span class="nc" id="L172">    VBox popupContent = new VBox(10);</span>
<span class="nc" id="L173">    popupContent.setPadding(new Insets(10));</span>
<span class="nc" id="L174">    popupContent.setAlignment(Pos.TOP_CENTER);</span>
    // define the title according to the button that has been pressed
<span class="nc" id="L176">    Label titleLabel = new Label(title);</span>
<span class="nc" id="L177">    titleLabel.setStyle(&quot;-fx-font-size: 18px; -fx-font-weight: bold;&quot;);</span>
    // create taskbox for the tasks
<span class="nc" id="L179">    VBox tasksBox = new VBox(5);</span>
<span class="nc" id="L180">    tasksBox.setAlignment(Pos.TOP_LEFT);</span>
<span class="nc" id="L181">    tasksBox.setStyle(&quot;-fx-max-height: 300px;&quot;);</span>

    // We create a scrollpane so the user can scroll down and see all the tasks
    // that he has done that week
<span class="nc" id="L185">    ScrollPane scrollPane = new ScrollPane();</span>
<span class="nc" id="L186">    scrollPane.setContent(tasksBox);</span>
<span class="nc" id="L187">    scrollPane.setFitToWidth(true);</span>
<span class="nc" id="L188">    scrollPane.setPrefHeight(300);</span>

<span class="nc" id="L190">    Map&lt;CheckBox, String&gt; taskCheckBoxMap = new HashMap&lt;&gt;();</span>
<span class="nc" id="L191">  }</span>
}

    // Create the checkbox
  /*  if (taskList != null &amp;&amp; !taskList.isEmpty()) {
        for (String task : taskList) {
          CheckBox checkBox = new CheckBox(task);
          checkBox.setStyle(&quot;-fx-font-size: 14px;&quot;);

          //αν το task ειναι στην λιστα notstartedyet ειναι unselected αλλιως στην completed τα task ειναι selected
          if (taskList == notStartedYet &amp;&amp; !completed.contains(task)) {
            checkBox.setSelected(false);
          } else if (taskList == completed &amp;&amp; notStartedYet.contains(task)) {
            checkBox.setSelected(true);
          }

          tasksBox.getChildren().add(checkBox);
          taskCheckBoxMap.put(checkBox, task);//map για να ελενγχουμε τα task με το checkbox
        }
      } else {
        Label noTasksLabel = new Label(&quot;No tasks available&quot;);//στην περιπτωση που δεν υπαρχουν task
        tasksBox.getChildren().add(noTasksLabel);
      }
      //δημιουργια κουμπιου οκ που οταν πατηθει αναλογα με το τι εχει πατησει ο χρηστης ενημερωνει τις δυο λιστες
      Button okButton = new Button(&quot;OK&quot;);
      okButton.setStyle(&quot;-fx-background-color: #50D1C6; -fx-background-radius: 30px; -fx-text-fill: white; -fx-font-size: 16px;&quot;);
      okButton.setOnAction(event -&gt; {

        for (Map.Entry&lt;CheckBox, String&gt; entry : taskCheckBoxMap.entrySet()) {
          CheckBox checkBox = entry.getKey();
          String task = entry.getValue();

          if (checkBox.isSelected() &amp;&amp; taskList == notStartedYet) {
            notStartedYet.remove(task);
            completed.add(task);
          } else if (!checkBox.isSelected() &amp;&amp; taskList == completed) {
            completed.remove(task);
            notStartedYet.add(task);
          }
        }
        popupStage.close();
        //update the taskboxes
        updateUpcomingTasks(upcomingTasksBox);
        updateCompletedTasks(completedTasksBox);
      });

      popupContent.getChildren().addAll(titleLabel, scrollPane, okButton);

      Scene popupScene = new Scene(popupContent, 300, 400);
      popupStage.setScene(popupScene);
      popupStage.showAndWait();
    }


    private Button createCircularButton(String text, String color) {
      Button button = new Button(text);
      button.setStyle(
              &quot;-fx-background-color: &quot; + color + &quot;;&quot; +
                      &quot;-fx-text-fill: black; &quot; +
                      &quot;-fx-font-size: 18px; &quot; +
                      &quot;-fx-padding: 10px 20px; &quot; +
                      &quot;-fx-background-radius: 5px; &quot; +
                      &quot;-fx-border-color: black; &quot; +
                      &quot;-fx-border-radius: 5px; &quot; +
                      &quot;-fx-min-width: 200px;&quot;
      );
      return button;
    }

    private HBox createCheckBox(String taskName) {
      HBox checkBoxBox = new HBox(10);
      checkBoxBox.setAlignment(Pos.CENTER_LEFT);


      CheckBox taskCheckBox = new CheckBox(taskName);
      taskCheckBox.setStyle(&quot;-fx-font-size: 16px; -fx-text-fill: black;&quot;);

      taskCheckBox.setOnAction(event -&gt; {
        if (taskCheckBox.isSelected()) {
          if (notStartedYet.contains(taskName)) {
            notStartedYet.remove(taskName);
            completed.add(taskName);
          }
        } else {
          if (completed.contains(taskName)) {
            completed.remove(taskName);
            notStartedYet.add(taskName);
          }
        }

        updateUpcomingTasks(upcomingTasksBox);
        updateCompletedTasks(completedTasksBox);


        System.out.println(&quot;Completed tasks: &quot; + completed);
      });

      checkBoxBox.getChildren().add(taskCheckBox);

      return checkBoxBox;
    }

    private void updateUpcomingTasks(VBox upcomingTasksBox) {
      upcomingTasksBox.getChildren().clear();
      for (String taskDescription : notStartedYet) {
        //System.out.println(&quot;Add&quot; + taskDescription);
        HBox checkBoxBox = createCheckBox(taskDescription);
        upcomingTasksBox.getChildren().add(checkBoxBox);

      }
    }

    private void updateCompletedTasks(VBox completedTasksBox) {
      completedTasksBox.getChildren().clear();
      for (String taskDescription : Calendar.completed) {
        HBox checkBoxBox = createCheckBox(taskDescription);
        //System.out.println(&quot;completed&quot; + taskDescription);
        completedTasksBox.getChildren().add(checkBoxBox);
      }
    }
  }
  */
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>