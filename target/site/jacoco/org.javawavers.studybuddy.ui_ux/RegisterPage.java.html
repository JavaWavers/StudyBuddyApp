<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RegisterPage.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">studybuddy</a> &gt; <a href="index.source.html" class="el_package">org.javawavers.studybuddy.ui_ux</a> &gt; <span class="el_source">RegisterPage.java</span></div><h1>RegisterPage.java</h1><pre class="source lang-java linenums">package org.javawavers.studybuddy.ui_ux;

import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

import org.javawavers.studybuddy.courses.StaticUser;
import org.javawavers.studybuddy.courses.User;

import javafx.geometry.Insets;
import javafx.geometry.Pos;
import javafx.scene.Scene;
import javafx.scene.control.Alert;
import javafx.scene.control.Button;
import javafx.scene.control.DialogPane;
import javafx.scene.control.Label;
import javafx.scene.control.PasswordField;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Priority;
import javafx.scene.layout.Region;
import javafx.scene.layout.VBox;
import javafx.scene.text.Font;
import javafx.scene.text.FontWeight;
import javafx.scene.text.Text;
import javafx.stage.Screen;

<span class="nc" id="L30">public class RegisterPage {</span>

<span class="nc" id="L32">  public static String storedEmail = &quot;&quot;;</span>
<span class="nc" id="L33">  public static String storedPassword = &quot;&quot;;</span>
<span class="nc" id="L34">  public static String storedUsername = &quot;Guest&quot;;</span>

  private HBox rightPane;
  private HBox leftPane;
  private TextField emailField;
  private PasswordField passwordField;
  private TextField textField;
  private Button loginButton;
  private Button registerButton;
  private TextField nameField;
  private TextField confirmPasswordTextField;
  private PasswordField confirmPasswordField;
  private SceneManager sceneManager;

  public Scene register(SceneManager sceneManager) {
<span class="nc" id="L49">    HBox registerPage = new HBox();</span>
<span class="nc" id="L50">    this.sceneManager = sceneManager;</span>

<span class="nc" id="L52">    initRightPane();</span>
<span class="nc" id="L53">    initLeftPane();</span>
<span class="nc" id="L54">    setupEventHandlers();</span>

<span class="nc" id="L56">    registerPage.getChildren().addAll(leftPane, rightPane);</span>
<span class="nc" id="L57">    HBox.setHgrow(leftPane, Priority.ALWAYS);</span>
<span class="nc" id="L58">    HBox.setHgrow(rightPane, Priority.ALWAYS);</span>
<span class="nc" id="L59">    leftPane.setMinWidth(300);</span>
<span class="nc" id="L60">    rightPane.setMinWidth(300);</span>
<span class="nc" id="L61">    leftPane.setPrefWidth((Screen.getPrimary().getVisualBounds().getWidth()) / 2);</span>
<span class="nc" id="L62">    rightPane.setPrefWidth((Screen.getPrimary().getVisualBounds().getWidth()) / 2);</span>

<span class="nc" id="L64">    Scene scene =</span>
        new Scene(
            registerPage,
<span class="nc" id="L67">            Screen.getPrimary().getVisualBounds().getWidth(),</span>
<span class="nc" id="L68">            Screen.getPrimary().getVisualBounds().getHeight());</span>

<span class="nc" id="L70">    return scene;</span>
  }

  private void initRightPane() {
<span class="nc" id="L74">    rightPane = new HBox();</span>
<span class="nc" id="L75">    rightPane.setStyle(&quot;-fx-background-color: #B563F1;&quot;);</span>
<span class="nc" id="L76">    rightPane.setPrefWidth(Screen.getPrimary().getVisualBounds().getWidth() / 2);</span>

<span class="nc" id="L78">    VBox rightVBox = new VBox(15);</span>
<span class="nc" id="L79">    rightVBox.setAlignment(Pos.CENTER);</span>
<span class="nc" id="L80">    rightVBox.setPadding(new Insets(30));</span>
<span class="nc" id="L81">    rightVBox.setFillWidth(true);</span>
<span class="nc" id="L82">    rightVBox.setMaxHeight(Double.MAX_VALUE);</span>

<span class="nc" id="L84">    Text joinText = new Text(&quot;ÎˆÎ»Î± ÏƒÏ„Î·Î½ Ï€Î±ÏÎ­Î± Î¼Î±Ï‚&quot;);</span>
<span class="nc" id="L85">    joinText.setFont(new Font(&quot;System Bold&quot;, 28));</span>

<span class="nc" id="L87">    Label nameLabel = new Label(&quot;Name:&quot;);</span>
<span class="nc" id="L88">    nameLabel.setFont(new Font(&quot;System Bold&quot;, 14));</span>

<span class="nc" id="L90">    nameField = new TextField();</span>
<span class="nc" id="L91">    nameField.setPromptText(&quot;Enter your name&quot;);</span>

<span class="nc" id="L93">    Label emailLabel = new Label(&quot;Email:&quot;);</span>
<span class="nc" id="L94">    emailLabel.setFont(new Font(&quot;System Bold&quot;, 14));</span>

<span class="nc" id="L96">    emailField = new TextField();</span>
<span class="nc" id="L97">    emailField.setPromptText(&quot;Enter your email&quot;);</span>

<span class="nc" id="L99">    Label passwordLabel = new Label(&quot;Password:&quot;);</span>
<span class="nc" id="L100">    passwordLabel.setFont(new Font(&quot;System Bold&quot;, 14));</span>

<span class="nc" id="L102">    passwordField = new PasswordField();</span>
<span class="nc" id="L103">    passwordField.setPromptText(&quot;Enter your password&quot;);</span>

<span class="nc" id="L105">    textField = new TextField();</span>
<span class="nc" id="L106">    textField.setPromptText(&quot;Enter your password&quot;);</span>

<span class="nc" id="L108">    textField.setManaged(false); // Î½Î± Î¾ÎµÎºÎ¹Î½Î·ÏƒÎµÎ¹ ÎºÎ±Î¹ Î½Î± Î¼Î·Î½ Ï†Î±Î¹Î½ÎµÏ„Î±Î¹ Î¿ ÎºÏ‰Î´Î¹ÎºÎ¿Ï‚</span>
<span class="nc" id="L109">    textField.setVisible(false);</span>
<span class="nc" id="L110">    Image seeImage1 = new Image(getClass().getResource(&quot;/seePassword.png&quot;).toExternalForm());</span>
<span class="nc" id="L111">    Image notseeImage2 = new Image(getClass().getResource(&quot;/notseePassword.png&quot;).toExternalForm());</span>
<span class="nc" id="L112">    ImageView userImgView = new ImageView(seeImage1);</span>
<span class="nc" id="L113">    userImgView.setFitWidth(32.5);</span>
<span class="nc" id="L114">    userImgView.setFitHeight(32.5);</span>

    // Button toggleConfirmPasswordButton = new Button(&quot;ğŸ‘&quot;);
<span class="nc" id="L117">    Button toggleConfirmPasswordButton = new Button();</span>

<span class="nc" id="L119">    Button toggleButton = new Button();</span>
<span class="nc" id="L120">    toggleButton.setGraphic(userImgView);</span>
<span class="nc" id="L121">    toggleButton.setStyle(&quot;-fx-font-size: 14px;&quot;);</span>

<span class="nc" id="L123">    toggleButton.setOnAction(</span>
        e -&gt; {
<span class="nc bnc" id="L125" title="All 2 branches missed.">          if (userImgView.getImage().equals(seeImage1)) {</span>
<span class="nc" id="L126">            userImgView.setImage(notseeImage2);</span>
          } else {
<span class="nc" id="L128">            userImgView.setImage(seeImage1);</span>
          }
<span class="nc" id="L130">          PasswordVisibility();</span>
<span class="nc" id="L131">        });</span>

    // Ï„Î± Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î¿Ï…Î¼Îµ ÎºÎ±Î¹ Ï„Î± Ï„ÏÎ¹Î± ÏƒÎµ Îµna hbox
<span class="nc" id="L134">    HBox passwordBox = new HBox(5, passwordField, textField, toggleButton);</span>

    // ÎºÎ±Î½Î¿Ï…Î¼Îµ Ï„Î¿ Î¹Î´Î¹Î¿ Î³Î¹Î± Ï„Î¿ confirmpassword
<span class="nc" id="L137">    Label confirmpasswordLabel = new Label(&quot;Confirm Password:&quot;);</span>
<span class="nc" id="L138">    confirmpasswordLabel.setFont(new Font(&quot;System Bold&quot;, 14));</span>

<span class="nc" id="L140">    confirmPasswordTextField = new TextField();</span>
<span class="nc" id="L141">    confirmPasswordTextField.setPromptText(&quot;Confirm your password&quot;);</span>

<span class="nc" id="L143">    confirmPasswordTextField.setManaged(false);</span>
<span class="nc" id="L144">    confirmPasswordTextField.setVisible(false);</span>

<span class="nc" id="L146">    confirmPasswordField = new PasswordField();</span>
<span class="nc" id="L147">    confirmPasswordField.setPromptText(&quot;Confirm your password&quot;);</span>

    // Button toggleConfirmPasswordButton = new Button(&quot;ğŸ‘&quot;);
    // Button toggleConfirmPasswordButton = new Button();

<span class="nc" id="L152">    toggleConfirmPasswordButton.setStyle(&quot;-fx-font-size: 14px;&quot;);</span>
<span class="nc" id="L153">    Image seeImage = new Image(getClass().getResource(&quot;/seePassword.png&quot;).toExternalForm());</span>
<span class="nc" id="L154">    Image notseeImage = new Image(getClass().getResource(&quot;/notseePassword.png&quot;).toExternalForm());</span>
<span class="nc" id="L155">    ImageView userImgView1 = new ImageView(seeImage);</span>
<span class="nc" id="L156">    userImgView1.setFitWidth(32.5);</span>
<span class="nc" id="L157">    userImgView1.setFitHeight(32.5);</span>
<span class="nc" id="L158">    toggleConfirmPasswordButton.setGraphic(userImgView1);</span>

<span class="nc" id="L160">    toggleConfirmPasswordButton.setOnAction(</span>
        e -&gt; {
<span class="nc bnc" id="L162" title="All 2 branches missed.">          if (userImgView1.getImage().equals(seeImage)) {</span>
<span class="nc" id="L163">            userImgView1.setImage(notseeImage);</span>
          } else {
<span class="nc" id="L165">            userImgView1.setImage(seeImage);</span>
          }
<span class="nc" id="L167">          ConfPasswordVisibility();</span>
<span class="nc" id="L168">        });</span>

<span class="nc" id="L170">    HBox confirmPasswordBox =</span>
        new HBox(5, confirmPasswordField, confirmPasswordTextField, toggleConfirmPasswordButton);

    // ÎºÎ¿Ï…Î¼Ï€Î¹ Î³Î¹Î± Ï„Î·Î½ ÎµÎ³Î³ÏÎ±Ï†Î·
<span class="nc" id="L174">    registerButton = new Button(&quot;Î•Î³Î³ÏÎ±Ï†Î®&quot;);</span>
<span class="nc" id="L175">    registerButton.setFont(new Font(&quot;System Bold&quot;, 14));</span>

<span class="nc" id="L177">    rightPane</span>
<span class="nc" id="L178">        .widthProperty()</span>
<span class="nc" id="L179">        .addListener(</span>
            (obs, oldVal, newVal) -&gt; {
<span class="nc" id="L181">              double newSize = newVal.doubleValue() / 30;</span>
<span class="nc" id="L182">              joinText.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, newSize));</span>
<span class="nc" id="L183">              nameField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L184">              nameLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L185">              emailField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L186">              emailLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L187">              passwordField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L188">              passwordLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L189">              textField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L190">              toggleButton.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L191">              toggleConfirmPasswordButton.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L192">              confirmPasswordField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L193">              confirmpasswordLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L194">              confirmPasswordTextField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L195">              registerButton.setStyle(</span>
                  &quot;-fx-font-family: 'System';  &quot;
                      + &quot;-fx-font-size: &quot;
                      + newSize
                      + &quot;px; &quot;
                      + &quot;-fx-font-weight: bold; &quot;
                      + &quot;-fx-text-fill: white; &quot;
                      + &quot;-fx-background-color: rgba(14, 164, 43, 0.81); &quot;
                      + &quot;-fx-background-radius: 30px; &quot;
                      + &quot;-fx-font-size: &quot;
                      + newSize
                      + &quot;px; &quot;
                      + &quot;-fx-border-radius: 30px;&quot;
                      + &quot; -fx-border-color: black;&quot;);
<span class="nc" id="L209">            });</span>

<span class="nc" id="L211">    rightPane</span>
<span class="nc" id="L212">        .heightProperty()</span>
<span class="nc" id="L213">        .addListener(</span>
            (obs, oldVal, newVal) -&gt; {
<span class="nc" id="L215">              double newSize = newVal.doubleValue() / 30;</span>
<span class="nc" id="L216">              joinText.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, newSize));</span>
<span class="nc" id="L217">              nameField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L218">              nameLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L219">              emailField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L220">              emailLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L221">              passwordField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L222">              passwordLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L223">              textField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L224">              toggleButton.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L225">              toggleConfirmPasswordButton.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L226">              confirmPasswordField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L227">              confirmPasswordTextField.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L228">              confirmpasswordLabel.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L229">              registerButton.setStyle(</span>
                  &quot;-fx-font-family: 'System'; &quot;
                      + &quot;-fx-font-size: &quot;
                      + newSize
                      + &quot;px; &quot;
                      + &quot;-fx-font-weight: bold; &quot;
                      + &quot;-fx-text-fill: white; &quot;
                      + &quot;-fx-background-color: rgba(14, 164, 43, 0.81); &quot;
                      + &quot;-fx-background-radius: 30px; &quot;
                      + &quot;-fx-border-radius: 30px; &quot;
                      + &quot;-fx-border-color: black;&quot;);
<span class="nc" id="L240">            });</span>

<span class="nc" id="L242">    Region upSpacer = new Region();</span>
<span class="nc" id="L243">    Region downSpacer = new Region();</span>
<span class="nc" id="L244">    VBox.setVgrow(upSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L245">    VBox.setVgrow(downSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L246">    rightVBox</span>
<span class="nc" id="L247">        .getChildren()</span>
<span class="nc" id="L248">        .addAll(</span>
            upSpacer,
            joinText,
            nameLabel,
            nameField,
            emailLabel,
            emailField,
            passwordLabel,
            passwordBox,
            confirmpasswordLabel,
            confirmPasswordBox,
            registerButton,
            downSpacer);

<span class="nc" id="L262">    Region leftSpacer = new Region();</span>
<span class="nc" id="L263">    Region rightSpacer = new Region();</span>
<span class="nc" id="L264">    HBox.setHgrow(leftSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L265">    HBox.setHgrow(rightSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L266">    VBox.setVgrow(rightVBox, Priority.ALWAYS);</span>

<span class="nc" id="L268">    rightPane.getChildren().addAll(leftSpacer, rightVBox, rightSpacer);</span>
<span class="nc" id="L269">  }</span>

  private void initLeftPane() {
<span class="nc" id="L272">    leftPane = new HBox();</span>
<span class="nc" id="L273">    leftPane.setStyle(&quot;-fx-background-color: #65E165CF;&quot;);</span>
<span class="nc" id="L274">    leftPane.setPrefWidth(Screen.getPrimary().getVisualBounds().getWidth() / 2);</span>

<span class="nc" id="L276">    VBox leftVBox = new VBox(15);</span>
<span class="nc" id="L277">    leftVBox.setAlignment(Pos.CENTER);</span>
<span class="nc" id="L278">    leftVBox.setPadding(new Insets(30));</span>
<span class="nc" id="L279">    leftVBox.setFillWidth(true);</span>
<span class="nc" id="L280">    leftVBox.setMaxHeight(Double.MAX_VALUE);</span>

<span class="nc" id="L282">    Text welcomeText = new Text(&quot;ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸ÎµÏ‚ Î¾Î±Î½Î¬!&quot;);</span>
<span class="nc" id="L283">    welcomeText.setFont(new Font(&quot;System Bold&quot;, 28));</span>

<span class="nc" id="L285">    Text messageText1 = new Text(&quot;Î‘Ï‚ Î¿ÏÎ³Î±Î½ÏÏƒÎ¿Ï…Î¼Îµ Î¾Î±Î½Î¬ Î¼Î±Î¶Î¯&quot;);</span>
<span class="nc" id="L286">    messageText1.setFont(new Font(14));</span>

<span class="nc" id="L288">    Text messageText2 = new Text(&quot;Ï„Î¿ Ï‡ÏÏŒÎ½Î¿ ÏƒÎ¿Ï….&quot;);</span>
<span class="nc" id="L289">    messageText2.setFont(new Font(14));</span>

    // ÎºÎ¿Ï…Î¼Ï€Î¹ logon
<span class="nc" id="L292">    loginButton = new Button(&quot;Î£Ï…Î½Î´Î­ÏƒÎ¿Ï… ÎµÎ´Ï&quot;);</span>
<span class="nc" id="L293">    loginButton.setFont(new Font(&quot;System Bold&quot;, 14));</span>
<span class="nc" id="L294">    loginButton.setStyle(</span>
        &quot;-fx-background-color: #801EC8E6; -fx-background-radius: 30px; &quot;
            + &quot;-fx-border-radius: 30px; -fx-border-color: black;&quot;);

<span class="nc" id="L298">    leftPane</span>
<span class="nc" id="L299">        .widthProperty()</span>
<span class="nc" id="L300">        .addListener(</span>
            (obs, oldVal, newVal) -&gt; {
<span class="nc" id="L302">              double newSize = newVal.doubleValue() / 30;</span>
<span class="nc" id="L303">              welcomeText.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, newSize));</span>
<span class="nc" id="L304">              messageText1.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L305">              messageText2.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L306">              loginButton.setStyle(</span>
                  &quot;-fx-background-color: #801EC8E6; &quot;
                      + &quot;-fx-background-radius: 30px; &quot;
                      + &quot;-fx-border-radius: 30px; &quot;
                      + &quot;-fx-text-fill: white; &quot;
                      + &quot;-fx-border-color: black;&quot;
                      + &quot;-fx-font-family: 'System'; &quot;
                      + &quot;-fx-font-size: &quot;
                      + newSize
                      + &quot;px; &quot;
                      + &quot;-fx-font-weight: bold; &quot;);
<span class="nc" id="L317">            });</span>

<span class="nc" id="L319">    leftPane</span>
<span class="nc" id="L320">        .heightProperty()</span>
<span class="nc" id="L321">        .addListener(</span>
            (obs, oldVal, newVal) -&gt; {
<span class="nc" id="L323">              double newSize = newVal.doubleValue() / 30;</span>
<span class="nc" id="L324">              welcomeText.setFont(Font.font(&quot;Arial&quot;, FontWeight.BOLD, newSize));</span>
<span class="nc" id="L325">              messageText1.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L326">              messageText2.setFont(Font.font(&quot;Arial&quot;, newSize));</span>
<span class="nc" id="L327">              loginButton.setStyle(</span>
                  &quot;-fx-background-color: #801EC8E6; &quot;
                      + &quot;-fx-background-radius: 30px; &quot;
                      + &quot;-fx-border-radius: 30px; &quot;
                      + &quot;-fx-text-fill: white; &quot;
                      + &quot;-fx-border-color: black;&quot;
                      + &quot;-fx-font-family: 'System'; &quot;
                      + &quot;-fx-font-size: &quot;
                      + newSize
                      + &quot;px; &quot;
                      + &quot;-fx-font-weight: bold; &quot;);
<span class="nc" id="L338">            });</span>

<span class="nc" id="L340">    Region upSpacer = new Region();</span>
<span class="nc" id="L341">    Region downSpacer = new Region();</span>
<span class="nc" id="L342">    VBox.setVgrow(upSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L343">    VBox.setVgrow(downSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L344">    leftVBox</span>
<span class="nc" id="L345">        .getChildren()</span>
<span class="nc" id="L346">        .addAll(upSpacer, welcomeText, messageText1, messageText2, loginButton, downSpacer);</span>

<span class="nc" id="L348">    Region leftSpacer = new Region();</span>
<span class="nc" id="L349">    Region rightSpacer = new Region();</span>
<span class="nc" id="L350">    HBox.setHgrow(leftSpacer, Priority.ALWAYS);</span>
<span class="nc" id="L351">    HBox.setHgrow(rightSpacer, Priority.ALWAYS);</span>

<span class="nc" id="L353">    leftPane.getChildren().addAll(leftSpacer, leftVBox, rightSpacer);</span>
<span class="nc" id="L354">  }</span>

  private void setupEventHandlers() {
<span class="nc" id="L357">    loginButton.setOnAction(</span>
        event -&gt; {
<span class="nc" id="L359">          LoginPage loginPage = new LoginPage();</span>
<span class="nc" id="L360">          sceneManager.switchScene(loginPage.login(sceneManager));</span>
<span class="nc" id="L361">        });</span>

<span class="nc" id="L363">    registerButton.setOnAction(</span>
        event -&gt; {
<span class="nc bnc" id="L365" title="All 2 branches missed.">          if (validateLogin()) {</span>
<span class="nc" id="L366">            ExamPage examPage = new ExamPage();</span>
<span class="nc" id="L367">            sceneManager.switchScene(examPage.examStartingPage(sceneManager));</span>
          }
<span class="nc" id="L369">        });</span>
<span class="nc" id="L370">  }</span>

  private boolean validateLogin() {
<span class="nc" id="L373">    storedUsername = nameField.getText();</span>
<span class="nc" id="L374">    storedEmail = emailField.getText();</span>
<span class="nc" id="L375">    storedPassword = passwordField.getText();</span>
<span class="nc" id="L376">    String confirmPassword = confirmPasswordField.getText();</span>

    // ÎŸÏÎ¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿Î½ Ï„ÏÎ­Ï‡Î¿Î½Ï„Î± Ï‡ÏÎ®ÏƒÏ„Î· ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎ¯ÏƒÎ¿Î´Î¿ ÏƒÏ„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®
<span class="nc" id="L379">    User user = new User(storedUsername, storedEmail, storedPassword);</span>

<span class="nc" id="L381">    StaticUser.staticUser = user;</span>

<span class="nc" id="L383">    List&lt;String&gt; errors = new ArrayList&lt;&gt;();</span>
    // error Î±Î½ Ï„Î¿ Î¿Î½Î¿Î¼Î± ÎµÎ¹Î½Î±Î¹ Î»Î¹Î³Î¿Ï„ÎµÏÎ¿ Î±Ï€Î¿ 4 Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎµÏ‚
<span class="nc bnc" id="L385" title="All 4 branches missed.">    if (storedUsername.isEmpty() || storedUsername.length() &lt; 2) {</span>
<span class="nc" id="L386">      System.out.println(&quot;storedUsername&quot;);</span>
<span class="nc" id="L387">      errors.add(&quot;â€¢ Î¤Î¿ ÏŒÎ½Î¿Î¼Î± Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï€Î¬Î½Ï‰ Î±Ï€ÏŒ Î­Î½Î±Î½ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎ±&quot;);</span>
<span class="nc bnc" id="L388" title="All 2 branches missed.">    } else if (!storedUsername.matches(&quot;[a-zA-Z0-9_Î±-Ï‰Î‘-Î©Î¬Î­Î®Î¯Î°ÏŠÏ‹ÏŒÏÏÎ†ÎˆÎ‰ÎŠÎªÎ«ÎŒÎÎ-]+&quot;)) {</span>
<span class="nc" id="L389">      errors.add(&quot;â€¢ Î¤Î¿ ÏŒÎ½Î¿Î¼Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Î¼ÏŒÎ½Î¿ Î³ÏÎ¬Î¼Î¼Î±Ï„Î±,Î±ÏÎ¹Î¸Î¼Î¿ÏÏ‚,Ï€Î±ÏÎ»ÎµÏ‚ ÎºÎ±Î¹ ÎºÎ¬Ï„Ï‰ Ï€Î±ÏÎ»ÎµÏ‚&quot;);</span>
    }
    // error Î±Î½ Ï„Î¿ email Î´ÎµÎ½ Ï€ÎµÏÎ¹ÎµÏ‡ÎµÎ¹ Ï„Î¿ @
<span class="nc bnc" id="L392" title="All 4 branches missed.">    if (storedEmail.isEmpty() || !storedEmail.matches(&quot;^[a-zA-Z0-9._%+-]{2,}@[a-zA-Z0-9.-]{2,}\\.[a-zA-Z]{2,}$&quot;)) {</span>
<span class="nc" id="L393">      System.out.println(&quot;storedEmail&quot;);</span>
<span class="nc" id="L394">      errors.add(&quot;â€¢ Î•Î¹ÏƒÎ®Î³Î±Î³Îµ Î­Î½Î± Î­Î³ÎºÏ…ÏÎ¿ email&quot;);</span>
    }
    // error Î±Î½ Î¿ ÎºÏ‰Î´Î¹ÎºÎ¿Ï‚ ÎµÎ¹Î½Î±Î¹ Î¼Î¹ÎºÏÎ¿Ï„ÎµÏÎ¿Ï‚ Î±Ï€Î¿ 6 Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎµÏ‚
<span class="nc bnc" id="L397" title="All 4 branches missed.">    if (storedPassword.isEmpty() || storedPassword.length() &lt; 8) {</span>
<span class="nc" id="L398">      System.out.println(&quot;storedPassword empty or length&quot;);</span>
<span class="nc" id="L399">      errors.add(&quot;â€¢ ÎŸ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï€Î¬Î½Ï‰ Î±Ï€ÏŒ 8 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚&quot;);</span>
<span class="nc bnc" id="L400" title="All 2 branches missed.">    } else if (!storedPassword.matches(&quot;.*[A-Z].*&quot;)) {</span>
<span class="nc" id="L401">      errors.add(&quot;â€¢ ÎŸ ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î± ÎºÎµÏ†Î±Î»Î±Î¹ÏŒ Î³ÏÎ¬Î¼Î¼Î±&quot;);</span>
<span class="nc bnc" id="L402" title="All 2 branches missed.">    } else if (!storedPassword.matches(&quot;.*[a-z].*&quot;)) {</span>
<span class="nc" id="L403">      errors.add(&quot;â€¢ ÎŸ ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î± Ï€Î­Î¶Î¿ Î³ÏÎ¬Î¼Î¼Î±&quot;);</span>
<span class="nc bnc" id="L404" title="All 2 branches missed.">    } else if (!storedPassword.matches(&quot;.*\\d.*&quot;)) {</span>
<span class="nc" id="L405">      errors.add(&quot;â€¢ ÎŸ ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ Î±ÏÎ¹Î¸Î¼ÏŒ&quot;);</span>
<span class="nc bnc" id="L406" title="All 2 branches missed.">    } else if (!storedPassword.matches(&quot;.*[!@#$%^&amp;+=].*&quot;)) {</span>
<span class="nc" id="L407">      errors.add(&quot;â€¢ ÎŸ ÎšÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î­Î½Î±Î½ ÎµÎ¹Î´Î¹ÎºÏŒ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎ±&quot;);</span>
    }
    // error Î±Î½ Î¿ ÎºÏ‰Î´Î¹ÎºÎ¿Ï‚ ÎºÎ±Î¹ Î¿ ÎºÏ‰Î´Î¹ÎºÎ¿Ï‚ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹Ï‰ÏƒÎ·Ï‚ Î´ÎµÎ½ ÎµÎ¹Î½Î±Î¹ Î¹Î´Î¹Î¿Ï‚
<span class="nc bnc" id="L410" title="All 2 branches missed.">    if (!storedPassword.equals(confirmPassword)) {</span>
<span class="nc" id="L411">      System.out.println(&quot;storedpassword confirm&quot;);</span>
<span class="nc" id="L412">      errors.add(&quot;â€¢ ÎŸÎ¹ ÎºÏ‰Î´Î¹ÎºÎ¿Î¯ Ï€Î¿Ï… Î­Î²Î±Î»ÎµÏ‚ Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î¯Î´Î¹Î¿Î¹&quot;);</span>
    }
    // Î±Î½ Ï…Ï€Î±ÏÏ‡Î¿Ï…Î½ error ÎµÎ¼Ï†Î±Î½Î¹Î¶ÎµÎ¹ Ï„Î·Î½ Î»Î¹ÏƒÎ±Ï„ ÏƒÏ„Î¿Î½ Ï‡ÏÎ·ÏƒÏ„Î·
<span class="nc bnc" id="L415" title="All 2 branches missed.">    if (!errors.isEmpty()) {</span>
<span class="nc" id="L416">      Alert alert = new Alert(Alert.AlertType.WARNING);</span>
<span class="nc" id="L417">      alert.setTitle(&quot;Î— Ï†ÏŒÏÎ¼Î± Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸ÎµÎ¯&quot;);</span>
<span class="nc" id="L418">      alert.setHeaderText(null);</span>
<span class="nc" id="L419">      String errorMessage = String.join(&quot;\n&quot;, errors);</span>
<span class="nc" id="L420">      alert.setContentText(errorMessage);</span>
<span class="nc" id="L421">      alert</span>
<span class="nc" id="L422">          .getDialogPane()</span>
<span class="nc" id="L423">          .getStylesheets()</span>
<span class="nc" id="L424">          .add(getClass().getResource(&quot;/alert.css&quot;).toExternalForm());</span>
<span class="nc" id="L425">      alert.showAndWait();</span>
<span class="nc" id="L426">      return false;</span>
    }
    // Î¼Î·Î½Ï…Î¼Î± ÎµÏ€Î¹Ï„Ï…Ï‡Î¹Î±Ï‚ Î±Î½ Î´ÎµÎ½ Ï…Ï€Î±ÏÏ‡Î¿Ï…Î½ errors
<span class="nc" id="L429">    Alert successAlert = new Alert(Alert.AlertType.INFORMATION);</span>
<span class="nc" id="L430">    successAlert.setTitle(&quot;Î•Î³Î³ÏÎ±Ï†Î® Î•Ï€Î¹Ï„Ï…Ï‡Î®Ï‚&quot;);</span>
<span class="nc" id="L431">    successAlert.setHeaderText(null);</span>
<span class="nc" id="L432">    successAlert.setContentText(&quot;Î— ÎµÎ³Î³ÏÎ±Ï†Î® Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ Î¼Îµ ÎµÏ€Î¹Ï„Ï…Ï‡Î¯Î±!&quot;);</span>
<span class="nc" id="L433">    DialogPane dialogPane = successAlert.getDialogPane();</span>
<span class="nc" id="L434">    dialogPane.getStyleClass().add(&quot;success-alert&quot;);</span>
<span class="nc" id="L435">    dialogPane</span>
<span class="nc" id="L436">        .getStylesheets()</span>
<span class="nc" id="L437">        .add(Objects.requireNonNull(getClass().getResource(&quot;/success.css&quot;)).toExternalForm());</span>
<span class="nc" id="L438">    successAlert.showAndWait();</span>
<span class="nc" id="L439">    return true;</span>
  }

  private void clearFields() {
<span class="nc" id="L443">    nameField.clear();</span>
<span class="nc" id="L444">    emailField.clear();</span>
<span class="nc" id="L445">    passwordField.clear();</span>
<span class="nc" id="L446">    textField.clear();</span>
<span class="nc" id="L447">    confirmPasswordField.clear();</span>
<span class="nc" id="L448">  }</span>

  private void PasswordVisibility() {
<span class="nc bnc" id="L451" title="All 2 branches missed.">    if (passwordField.isVisible()) {</span>
<span class="nc" id="L452">      textField.setText(passwordField.getText());</span>
<span class="nc" id="L453">      passwordField.setVisible(false);</span>
<span class="nc" id="L454">      textField.setVisible(true);</span>
<span class="nc" id="L455">      passwordField.setManaged(false);</span>
<span class="nc" id="L456">      textField.setManaged(true);</span>
    } else {
<span class="nc" id="L458">      passwordField.setText(textField.getText());</span>
<span class="nc" id="L459">      textField.setVisible(false);</span>
<span class="nc" id="L460">      passwordField.setVisible(true);</span>
<span class="nc" id="L461">      textField.setManaged(false);</span>
<span class="nc" id="L462">      passwordField.setManaged(true);</span>
    }
<span class="nc" id="L464">  }</span>

  private void ConfPasswordVisibility() {
<span class="nc bnc" id="L467" title="All 2 branches missed.">    if (confirmPasswordField.isVisible()) {</span>
<span class="nc" id="L468">      confirmPasswordTextField.setText(confirmPasswordField.getText());</span>
<span class="nc" id="L469">      confirmPasswordField.setVisible(false);</span>
<span class="nc" id="L470">      confirmPasswordField.setManaged(false);</span>
<span class="nc" id="L471">      confirmPasswordTextField.setVisible(true);</span>
<span class="nc" id="L472">      confirmPasswordTextField.setManaged(true);</span>
    } else {
<span class="nc" id="L474">      confirmPasswordField.setText(confirmPasswordTextField.getText());</span>
<span class="nc" id="L475">      confirmPasswordTextField.setVisible(false);</span>
<span class="nc" id="L476">      confirmPasswordTextField.setManaged(false);</span>
<span class="nc" id="L477">      confirmPasswordField.setVisible(true);</span>
<span class="nc" id="L478">      confirmPasswordField.setManaged(true);</span>
    }
<span class="nc" id="L480">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>