<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ProgressCalculator.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">studybuddy</a> &gt; <a href="index.source.html" class="el_package">org.javawavers.studybuddy.graphs</a> &gt; <span class="el_source">ProgressCalculator.java</span></div><h1>ProgressCalculator.java</h1><pre class="source lang-java linenums">package org.javawavers.studybuddy.graphs;

import java.util.ArrayList;
import java.util.List;
import javax.security.auth.Subject;

<span class="nc" id="L7">public class ProgressCalculator {</span>
    //λιστες για τα tasks
<span class="nc" id="L9">    List&lt;Subject&gt; subjects = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L10">    List&lt;String&gt; examTasks = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L11">    List&lt;String&gt; assignmentsTasks = new ArrayList&lt;&gt;();</span>

    //λιστα με τα συνολικα Tasks που εχει το καθε μαθημα (αυτο θα το παιρνουμε απο τον αλγοριθμο) με τα ονοματα των task --&gt; ονομα task , subject
<span class="nc" id="L14">    List&lt;List&lt;String&gt;&gt; totalTasksPerSubject = new ArrayList&lt;&gt;();</span>
    //λιστα που θα την παρουμε απο το scheduleTask για το status του καθε task --&gt; status, ονομα task
<span class="nc" id="L16">    List&lt;List&lt;String&gt;&gt; statusperTask = new ArrayList&lt;&gt;();</span>

    //μετρητης πληθους μαθηματων
<span class="nc" id="L19">    int countsubject = 0;</span>
    //μπορει να μην χρειαζονται ολα αυτα
    double weeklyProgress;
    double dailyProgress;
    double[] totalDistribution;
    double[] weeklyDistribution;
    double[] dailyDistribution;
    //μεθοδος που καλειται για ενα μαθημα και υπολογιζει για αυτο το μαθημα την προοδο που εχει γινει
    public double calculateProgressofSubject(Subject subject) {
//προσθετει μαθηματα καθε φορα που καλειται αυτη η μεθοδος
<span class="nc" id="L29">        countsubject++;</span>
//αρχικοποιηση μετρητων που θα βοηθησουν για να μετρησουμε τα task που εχει ξεκινησει,ολοκληρωση,αργησει να παραδωσει, δεν τα εχει αρχισει ακομα
<span class="nc" id="L31">        int notStartedYet = 0;</span>
<span class="nc" id="L32">        int ongoing = 0;</span>
<span class="nc" id="L33">        int late = 0;</span>
<span class="nc" id="L34">        int completed = 0;</span>
//αρχικοποιησει του totaltask για να μετραμε στην συνχεια ποσα task εχει το καθε μαθημα
<span class="nc" id="L36">        int totaltask = 0 ;</span>
//παιρνουμε το ονομα του task και το μαθημα που ανηκει το συγκεκριμενο task και αν ανηκει στο μαθημα που εχει για ορισμα η μεθοδος τοτες προστιθεται ενα στα συνολικα task του μαθηματος αυτου(totaltask)
<span class="nc bnc" id="L38" title="All 2 branches missed.">        for (List&lt;String&gt; taskinfo : totalTasksPerSubject) {</span>
<span class="nc" id="L39">            String taskname = taskinfo.get(0);</span>
<span class="nc" id="L40">            String tasksubject = taskinfo.get(1);</span>

<span class="nc bnc" id="L42" title="All 2 branches missed.">            if (tasksubject.equals(subject)) {</span>
<span class="nc" id="L43">                totaltask++;</span>
//παιρνουμε την κατασταση και το ονομα του task ψαχνουμε να βρουμε ποτε ειναι ιδιο το ονομα του task ωστε να τα ταιριαξουμε και στην συνεχεια αφου ειναι ιδιο μπαινει μεσα στην if και προστιθεται ενα αναλογα το status του task
<span class="nc bnc" id="L45" title="All 2 branches missed.">                for (List&lt;String&gt; taskstatus : statusperTask) {</span>
<span class="nc" id="L46">                    String taskstatusname = taskstatus.get(0);</span>
<span class="nc" id="L47">                    String status = taskstatus.get(1);</span>

<span class="nc bnc" id="L49" title="All 2 branches missed.">                    if (taskname.equals(taskstatusname)) {</span>

<span class="nc bnc" id="L51" title="All 2 branches missed.">                        if (status.equals(&quot;Completed&quot;)) {</span>
<span class="nc" id="L52">                            completed++;</span>
<span class="nc bnc" id="L53" title="All 2 branches missed.">                        } else if (status.equals(&quot;Late&quot;)) {</span>
<span class="nc" id="L54">                            late++;</span>
<span class="nc bnc" id="L55" title="All 2 branches missed.">                        } else if (status.equals(&quot;Ongoing&quot;)) {</span>
<span class="nc" id="L56">                            ongoing++;</span>
                        } else {
<span class="nc" id="L58">                            notStartedYet++;</span>
                        }
<span class="nc" id="L60">                        break;</span>
                    }
<span class="nc" id="L62">                }</span>
            }


<span class="nc" id="L66">        }</span>
//αν αυτο το μαθημα για καποιον λογο δεν εχει task τοτε επιστρεφουμε 0 της εκατο ποσοστο
<span class="nc bnc" id="L68" title="All 2 branches missed.">        if (totaltask == 0) {</span>
<span class="nc" id="L69">            return 0;</span>
        }
//υπολογιζουμε την προοδο ως τα task που εχουν ολοκληρωθει / τα συνολικα task του μαθηματος επι 100 για το ποσοστο
<span class="nc" id="L72">        double progress = ((double)completed / (double)totaltask) * 100;</span>
<span class="nc" id="L73">        return progress;</span>


    }
    //φτιαχνουμε λιστα για την προοδο ολων των μαθηματων ωστε να βγαλουμε την συνολικη προοδο
<span class="nc" id="L78">    List&lt;Double&gt; subjectprogress = new ArrayList&lt;&gt;();</span>
//μεθοδος που μετραει την συνολικη προοδο του χρηστη

    public double calculateTotalProgress() {
<span class="nc" id="L82">        double sum = 0;</span>
<span class="nc" id="L83">        int count = 0;</span>
//γεμιζουμε την λιστα με της προοδους ολων των μαθηματων
<span class="nc bnc" id="L85" title="All 2 branches missed.">        for (Subject subject : subjects) {</span>
<span class="nc" id="L86">            double progress = calculateProgressofSubject(subject);</span>
<span class="nc" id="L87">            subjectprogress.add(progress);</span>
<span class="nc" id="L88">        }</span>
//μετραμε την συνολικη προοδο για ολα τα μαθηματα + μετρητης για τα μαθηματα που εχουμε μετρηση
<span class="nc bnc" id="L90" title="All 2 branches missed.">        for(double progress : subjectprogress) {</span>
<span class="nc" id="L91">            sum = sum + progress;</span>
<span class="nc" id="L92">            count++;</span>
<span class="nc" id="L93">        }</span>
//εαν δεν υπαρχουν μαθηματα επιστρεφει 0
<span class="nc bnc" id="L95" title="All 2 branches missed.">        if (count == 0) {</span>
<span class="nc" id="L96">            return 0;</span>
        } else {
//επιστρεφουμε το αθροισμα των προοδων / το συνολο των μαθηματων * 100
<span class="nc" id="L99">            return (sum / count) * 100;</span>
        }


    }
    //μεθοδος υπολογισμου προοδου ανα μαθημα
    public void calculateDistribution() {
//καλουμε την μεθοδο υπολογισμου της συνολικης προοδου
<span class="nc" id="L107">        double total = calculateTotalProgress();</span>
//φτιαχνουμε μια λιστα για να βαλουμε μεσα την προοδο ανα μαθημα
<span class="nc" id="L109">        List&lt;Double&gt; subjectDistribution = new ArrayList&lt;&gt;();</span>
//για το καθε μαθημα υπολογιζουμε την προοδο του δια την συνολικη προοδο επι 100 για να βρουμε το ποσοστο του συγκεκριμενου μαθηματος
<span class="nc bnc" id="L111" title="All 2 branches missed.">        for (int i = 0; i &lt; subjectprogress.size(); i++) {</span>
<span class="nc" id="L112">            double distribution = (subjectprogress.get(i) / total) * 100 ;</span>
<span class="nc" id="L113">            subjectDistribution.add(distribution);</span>
        }
<span class="nc" id="L115">    }</span>




}









</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>